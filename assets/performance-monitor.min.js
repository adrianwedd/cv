class PerformanceMonitor{constructor(){this.metrics={};this.observer=null;this.init()}init(){this.observeWebVitals();this.trackLoadTime();this.monitorResourceTiming()}observeWebVitals(){if('PerformanceObserver'in window){this.observer=new PerformanceObserver(list=>{list.getEntries().forEach(entry=>{switch(entry.entryType){case'navigation':this.metrics.loadTime=entry.loadEventEnd-entry.loadEventStart;break;case'paint':entry.name==='first-contentful-paint'&&(this.metrics.fcp=entry.startTime);break;case'largest-contentful-paint':this.metrics.lcp=entry.startTime;break}})});try{this.observer.observe({entryTypes:['navigation','paint','largest-contentful-paint']})}catch(e){console.warn('Performance Observer not supported')}}}trackLoadTime(){window.addEventListener('load',()=>{setTimeout(()=>{const timing=performance.timing;this.metrics.domContentLoaded=timing.domContentLoadedEventEnd-timing.navigationStart;this.metrics.fullyLoaded=timing.loadEventEnd-timing.navigationStart;this.updateDashboard()},0)})}monitorResourceTiming(){const resources=performance.getEntriesByType('resource');this.metrics.resourceCount=resources.length;this.metrics.totalResourceSize=resources.reduce((sum,resource)=>sum+(resource.transferSize||0),0)}updateDashboard(){const dashboard=document.getElementById('performance-dashboard');if(dashboard){dashboard.innerHTML=`<div class="performance-metrics"><div class="metric"><span class="label">Load Time:</span><span class="value">${Math.round(this.metrics.fullyLoaded||0)}ms</span></div><div class="metric"><span class="label">FCP:</span><span class="value">${Math.round(this.metrics.fcp||0)}ms</span></div><div class="metric"><span class="label">LCP:</span><span class="value">${Math.round(this.metrics.lcp||0)}ms</span></div><div class="metric"><span class="label">Resources:</span><span class="value">${this.metrics.resourceCount||0}</span></div></div>`}}getMetrics(){return this.metrics}}if(typeof window!=='undefined'){window.performanceMonitor=new PerformanceMonitor()}