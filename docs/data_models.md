# Data Models

This section describes the JSON data models used throughout the AI-enhanced CV system. These files serve as the central data store and communication medium between different components of the pipeline.

## Overview

The system relies on a set of structured JSON files, primarily located in the `data/` directory. These files store static CV information, dynamic GitHub activity metrics, AI-generated content, and workflow usage analytics. Understanding their structure is crucial for comprehending the system's data flow and for making modifications or extensions.

## Core Data Files

### 1. `base-cv.json`

This file contains the foundational, static information about the CV. It's the primary source for personal details, experience, projects, skills, and achievements that are not dynamically generated from GitHub activity or AI.

```json
{
  "personal_info": {
    "name": "string",
    "title": "string",
    "location": "string",
    "github": "url",
    "linkedin": "url",
    "email": "string"
  },
  "professional_summary": "string",
  "experience": [
    {
      "position": "string",
      "company": "string",
      "period": "string",
      "description": "string",
      "achievements": ["string"],
      "technologies": ["string"]
    }
  ],
  "projects": [
    {
      "name": "string",
      "description": "string",
      "technologies": ["string"],
      "github": "url",
      "demo": "url",
      "metrics": [
        { "value": "string", "label": "string" }
      ]
    }
  ],
  "skills": [
    {
      "name": "string",
      "category": "string",
      "level": "number" (0-100)
    }
  ],
  "achievements": [
    {
      "icon": "string" (emoji),
      "title": "string",
      "description": "string",
      "date": "string",
      "link": "url"
    }
  ]
}
```

### 2. `activity-summary.json`

This file stores the summarized GitHub activity metrics generated by the `activity-analyzer.js` script. It provides a snapshot of the user's recent contributions and professional development scores.

```json
{
  "last_updated": "datetime" (ISO 8601),
  "tracker_version": "string",
  "analysis_depth": "string",
  "lookback_period_days": "number",
  "summary": {
    "total_commits": "number",
    "active_days": "number",
    "net_lines_contributed": "number",
    "tracking_status": "string",
    "last_commit_date": "datetime"
  },
  "professional_metrics": {
    "scores": {
      "activity_score": "number",
      "impact_score": "number",
      "diversity_score": "number",
      "collaboration_score": "number",
      "overall_professional_score": "number"
    },
    "raw_metrics": {
      "total_repositories": "number",
      "total_stars": "number",
      "total_forks": "number",
      "unique_languages": "number",
      "recently_active_repos": "number",
      "followers": "number",
      "account_age_years": "number"
    },
    "growth_indicators": {
      "development_velocity": "number",
      "community_engagement": "number",
      "technical_breadth": "number",
      "collaboration_index": "number"
    }
  },
  "skill_analysis": {
    "total_languages": "number",
    "expert_level": "number",
    "advanced_level": "number",
    "intermediate_level": "number",
    "top_3_skills": ["string"]
  },
  "data_files": {
    "latest_activity": "string" (filename),
    "latest_metrics": "string" (filename),
    "latest_trends": "string" (filename)
  },
  "cv_integration": {
    "ready_for_enhancement": "boolean",
    "data_freshness": "datetime",
    "next_cv_update": "string"
  }
}
```

### 3. `ai-enhancements.json`

This file stores the AI-generated and optimized content for the CV, produced by the `claude-enhancer.js` script.

```json
{
  "last_updated": "datetime" (ISO 8601),
  "creativity_level": "string",
  "ai_budget": "string",
  "activity_score": "number",
  "professional_summary": {
    "original": "string",
    "enhanced": "string",
    "enhancement_applied": "boolean",
    "improvement_notes": {
      "length_change": "number",
      "word_count_change": "number",
      "improvement_indicators": ["string"]
    }
  },
  "skills_enhancement": {
    "analysis": "string",
    "github_context": {
      "activity_score": "number",
      "top_languages": ["string"],
      "total_repos": "number"
    },
    "enhancement_applied": "boolean",
    "recommendations": ["string"]
  },
  "experience_enhancement": {
    "enhancement_suggestions": "string",
    "focus_areas": ["string"],
    "enhancement_applied": "boolean"
  },
  "project_enhancement": {
    "enhancement_strategy": "string",
    "portfolio_metrics": {
      "total_repos": "number",
      "community_impact": "number",
      "language_diversity": "number",
      "activity_score": "number"
    },
    "enhancement_applied": "boolean"
  },
  "strategic_insights": {
    "strategic_analysis": "string",
    "market_context": {
      "activity_score": "number",
      "specialization": "string",
      "location_advantage": "string",
      "innovation_focus": "string"
    },
    "insights_generated": "boolean"
  },
  "enhancement_summary": {
    "enhancement_overview": {
      "total_stages_completed": "number",
      "creativity_level": "string",
      "ai_budget_used": "string",
      "enhancement_duration_seconds": "number"
    },
    "token_analytics": {
      "input_tokens": "number",
      "output_tokens": "number",
      "cache_creation_tokens": "number",
      "cache_read_tokens": "number",
      "total_tokens": "number",
      "request_count": "number",
      "cache_hits": "number",
      "cache_efficiency_percent": "number"
    },
    "enhancement_effectiveness": {
      "professional_summary": "boolean",
      "skills_analysis": "boolean",
      "experience_optimization": "boolean",
      "project_enhancement": "boolean",
      "strategic_insights": "boolean"
    },
    "recommendations": {
      "content_freshness": "string",
      "market_alignment": "string",
      "technical_positioning": "string",
      "career_advancement": "string"
    }
  }
}
```

### 4. `cv-usage-tracking.json`

This file records the usage analytics for the CV enhancement workflows, providing insights into performance and cost over time.

```json
{
  "daily_usage": [
    {
      "timestamp": "datetime",
      "utc_timestamp": "datetime" (ISO 8601),
      "enhancement_mode": "string",
      "strategy": "string",
      "estimated_tokens": "number",
      "activity_score": "number",
      "outcome": "string" (success/failure)
    }
  ],
  "enhancement_history": [
    {
      "date": "date" (YYYY-MM-DD),
      "mode": "string",
      "activity_score": "number",
      "success": "boolean"
    }
  ],
  "performance_metrics": [
    {
      "workflow_run_id": "string",
      "job_name": "string",
      "duration_seconds": "number",
      "start_time": "datetime",
      "end_time": "datetime"
    }
  ]
}
```

## Relationships

*   `base-cv.json` provides the static foundation.
*   `activity-summary.json` is dynamically generated and enriches the context for AI enhancement.
*   `ai-enhancements.json` is the output of the AI processing, containing optimized content.
*   All three (`base-cv.json`, `activity-summary.json`, `ai-enhancements.json`) are consumed by the `cv-generator.js` to produce the final CV outputs.
*   `cv-usage-tracking.json` records metadata about workflow executions, including estimated token usage and activity scores, providing a historical log of the system's operation.
